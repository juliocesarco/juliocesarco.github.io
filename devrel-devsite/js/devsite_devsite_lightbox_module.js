(function(_ds){var window=this;var mla=["devsite-dialog-close","devsite-lightbox-icon-close"],nla=/youtube\.com$/,t6=function(a){a.Fa=a.hasAttribute("video-id");a.o=a.getAttribute("video-height")||"500px";a.ea=a.getAttribute("video-width")||"900px";/[0-9]$/.test(a.ea)&&(a.ea+="px");/[0-9]$/.test(a.o)&&(a.o+="px")},ola=function(a){a.image=document.querySelector(`img[${"data-modal-dialog-id"}="${a.id}"]`);if(a.image){let b=a.image.getAttribute("alt"),c="View enlarged image",d="View enlarged image";b&&""!==b?(d=b,c=`${"View enlarged image"} (${b})`):
b="";_ds.fd([(0,_ds.n)`role`],a.image,"role","button");_ds.fd([(0,_ds.n)`aria-`],a.image,"aria-label",c);_ds.fd([(0,_ds.n)`data-`],a.image,"data-title",d);a.image.alt=b;a.image.tabIndex=0;a.image.classList.add("devsite-lightbox-image");a.Ha.listen(a.image,"keypress",e=>{if(13===e.keyCode){let f;null==(f=a.image)||f.click()}})}},u6=class extends _ds.Us{constructor(){super();this.h=this.closeButton=null;this.Da=!1;this.image=null;this.Fa=!1;this.Ha=new _ds.x;this.ea=this.o=null;_ds.Ph(this,(0,_ds.n)`data-`,
(0,_ds.n)`aria-`,(0,_ds.n)`video-`,(0,_ds.n)`role`,(0,_ds.n)`start`,(0,_ds.n)`open`,..._ds.yV)}connectedCallback(){t6(this);if(!this.Da){var a=this.querySelector("a.lb");if(a){var b;null==(b=this.parentElement)||b.insertBefore(a,this);this.id||(this.id=_ds.Ei());_ds.fd([(0,_ds.n)`data-`],a,"data-modal-dialog-id",this.id);(b=a.dataset.width)&&_ds.w(this,"video-width",b);(a=a.dataset.height)&&_ds.w(this,"video-height",a)}this.closeButton||(this.closeButton=document.createElement("button"),this.closeButton.classList.add(...mla),
this.closeButton.tabIndex=1,_ds.fd([(0,_ds.n)`aria-`],this.closeButton,"aria-label","Close dialog"),this.prepend(this.closeButton));this.Da=!0}this.image||(_ds.A(this.Ha),ola(this));super.connectedCallback()}Ca(){var a=this.ya;if(a&&"A"===a.tagName&&(a=a.href?new URL(a.href):null)&&nla.test(a.hostname)){_ds.w(this,"video-id",a.searchParams.get("v"));const b=Number(a.searchParams.get("t")||a.searchParams.get("start"));b&&_ds.w(this,"start",`${b}`);(a=a.searchParams.get("autoplay"))&&_ds.w(this,"autoplay",
a)}t6(this);if(this.Fa){if(!this.h){this.h=document.createElement("devsite-video");this.append(this.h);for(const b of _ds.yV)_ds.Rh(this,b)&&_ds.w(this,b,_ds.Qh(this,b),this.h)}this.o&&(this.h.style.height=this.o);this.ea&&(this.h.style.width=this.ea)}super.Ca()}ra(){if(this.h){let a;null==(a=this.h)||a.remove();this.h=null}super.ra()}Aa(a,b){b=b?b:a.target;b instanceof HTMLElement&&this.open&&"A"===b.tagName&&a.preventDefault()}};u6.prototype.connectedCallback=u6.prototype.connectedCallback;try{window.customElements.define("devsite-lightbox",u6)}catch(a){console.warn("devsite.app.customElement.DevsiteLightbox",a)};})(_ds_www);
